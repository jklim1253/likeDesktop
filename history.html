<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>history - undo and redo</title>
	<link rel="stylesheet" href="css/base.css">
</head>
<body>
<script>
var Action = function(who, whom, what, when, why) {
	return {
		execute: _execute,
		what: _what
	};
};
var Command = function() {
	return {
		list: _list,
		push: _push,
		undo: _undo,
		redo: _redo
	};
};

var __last_error = undefined;
function error_log() {
	if (!__last_error) {
		log(__last_error);
	}
};

var MainApp = function() {
	var width = 800;
	var height = 600;
	var background = "#999";
	var canvas = undefined;

	if (!initialize_canvas(width, height, background)) {
		error_log();
		return;
	}

	function initialize_canvas(width, height, bgcolor) {
		canvas = document.getElementById("board");
		if (canvas === null) {
			canvas = document.createElement("canvas");
			if (canvas === null) {
				__last_error = "canvas element cannot found.";
				return false;
			}
			document.body.appendChild(canvas);
			canvas.id = "board";
		}
		canvas.width = width;
		canvas.height = height;
		canvas.style.background = bgcolor;

		return true;
	};
};

window.addEventListener("load", MainApp, false);
</script>
</body>
</html>
